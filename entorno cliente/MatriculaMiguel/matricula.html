<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Matricula</title>
</head>

<body>
    <script>
        
        //Ejercicio A
        var numeros = new Array();
        //Creamos el array con todas las combinaciones quitando los 0
        for (var n = 0; n < 1000; n++) {
            if (n<10){                
                var palabra ="000"+n.toString();
                             
            }
            else if(n>=10 && n<100){
                var palabra ="00"+n.toString(); 
            }
            else{
                var palabra ="0"+n.toString(); 
            }
            
            numeros.push(palabra);
           
            
            
        }
        for (var n = 1000; n <= 9999; n++) {           
                
                numeros.push(n.toString());
                
            
        }
        
        //array combinaciones
        var poker = new Array();
        var trios = new Array();
        var parejas = new Array();
        var escalerasimple = new Array();
        var escalera = new Array();

        for (var i = 0; i < numeros.length; i++) {
        
            var numerosarray = Array.from(numeros[i]);

            //Contadores para parejas y trios
            var cont1 = 0;
            var cont2 = 0;
            var cont3 = 0;


            for (var j = 0; j <= numerosarray.length; j++) {
                if (numerosarray[0] == numerosarray[j]) {
                    cont1++;
                }
                if (numerosarray[1] == numerosarray[j]) {
                    cont2++;
                }
                if (numerosarray[2] == numerosarray[j]) {
                    cont3++;
                }
            }
            //trios
            if (cont1 == 3 || cont2 == 3) {
               
                trios.push(numeros[i]);

            }

            //Parejas
            if (cont1 == 2 && cont2 == 2 && cont3 == 2) {

                parejas.push(numeros[i]);
            }

            //Poker
            if (numerosarray[0] == numerosarray[1] && numerosarray[0] == numerosarray[2] && numerosarray[0] == numerosarray[3]) {
                poker.push(numeros[i]);
            }
            //Escaleras 
            numerosarray.sort();//Ordenamos para hacerlo mas sencillo
            //Escalera completa


            var primero = parseInt(numerosarray[0]) + 3;
            var segundo = parseInt(numerosarray[1]) + 2;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            if (primero == segundo && segundo == tercero && tercero == cuarto) {
                escalera.push(numeros[i]);
               

            }
            //Escaleras simples

            //Esto solo sirve teniendo en cuenta los 3 primeros valores
            var primero = parseInt(numerosarray[0]) + 3;
            var segundo = parseInt(numerosarray[1]) + 2;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            if (cuarto == segundo && segundo == tercero && primero != cuarto) {
                
                escalerasimple.push(numeros[i]);

            }
            //Ahora lo mismo para los tres ultimos y asi tendremos en cuenta todas las posibles escaleras simples
            var primero = parseInt(numerosarray[0]) + 3;
            var segundo = parseInt(numerosarray[1]) + 2;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            
            if (primero == segundo && segundo == tercero && primero != cuarto) {
                escalerasimple.push(numeros[i]);
               

            }

            //Ahora lo mismo pero teniendo en cuenta que puede haber dos valores iguales 
            var primero = parseInt(numerosarray[0]) + 2;
            var segundo = parseInt(numerosarray[1]) + 1;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            
            if (primero == segundo && segundo == tercero && primero == cuarto) {
                escalerasimple.push(numeros[i]);
                
            }



        }
        document.write("<br>Cantidad dobles parejas : " + parejas.length);
        document.write("<br>Cantidad trios : " + trios.length);
        document.write("<br>Cantidad poker : " + poker.length);
        document.write("<br>Cantidad escaleras simples : " + escalerasimple.length);
        document.write("<br>Cantidad escaleras completas : " + escalera.length);

        


        //Ejercicio B
        
        
        
        var num = prompt("Introduzca 4 numeros para comprobar si tienes una combinacion: ");
        
        var numerosarray = Array.from(num);
        var cont1 = 0;
        var cont2 = 0;
        var cont3 = 0;


        for (var j = 0; j <= numerosarray.length; j++) {
            if (numerosarray[0] == numerosarray[j]) {
                cont1++;
            }
            if (numerosarray[1] == numerosarray[j]) {
                cont2++;
            }
            if (numerosarray[2] == numerosarray[j]) {
                cont3++;
            }
        }
        //trios
        if (cont1 == 3 || cont2 == 3) {
            document.write("<br><br><br><h1>Tienes trio.</h1>");
            
        }

        //Parejas
        if (cont1 == 2 && cont2 == 2 && cont3 == 2) {
            document.write("<br><br><br><h1>Tienes doble pareja</h1>");


        }

        //Poker
        if (numerosarray[0] == numerosarray[1] && numerosarray[0] == numerosarray[2] && numerosarray[0] == numerosarray[3]) {
            document.write("<br><br><br><h1>Tienes poker.</h1>");

        }
        //Escaleras 
        numerosarray.sort();//Ordenamos para hacerlo mas sencillo
        //Escalera completa


        var primero = parseInt(numerosarray[0]) + 3;
        var segundo = parseInt(numerosarray[1]) + 2;
        var tercero = parseInt(numerosarray[2]) + 1;
        var cuarto = parseInt(numerosarray[3]);
        if (primero == segundo && segundo == tercero && tercero == cuarto) {
            document.write("<br><br><br><h1>Tienes escalera completa.</h1>");
            completa = true;

        }
        
            //Escaleras simples

            //Esto solo sirve teniendo en cuenta los 3 primeros valores
            var primero = parseInt(numerosarray[0]) + 3;
            var segundo = parseInt(numerosarray[1]) + 2;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            if (cuarto == segundo && segundo == tercero && primero != cuarto) {
                
                document.write("<br><br><br><h1>Tienes escalera simple.</h1>");

            }
            //Ahora lo mismo para los tres ultimos y asi tendremos en cuenta todas las posibles escaleras simples
            var primero = parseInt(numerosarray[0]) + 3;
            var segundo = parseInt(numerosarray[1]) + 2;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            
            if (primero == segundo && segundo == tercero && primero != cuarto) {
                document.write("<br><br><br><h1>Tienes escalera simple.</h1>");
               

            }

            //Ahora lo mismo pero teniendo en cuenta que puede haber dos valores iguales 
            var primero = parseInt(numerosarray[0]) + 2;
            var segundo = parseInt(numerosarray[1]) + 1;
            var tercero = parseInt(numerosarray[2]) + 1;
            var cuarto = parseInt(numerosarray[3]);
            
            if (primero == segundo && segundo == tercero && primero == cuarto) {
                document.write("<br><br><br><h1>Tienes escalera simple.</h1>");
                
            }
        

        //Boton
        var parametros = "width=400, height=300, left=200, top=150 resizable=no, menubar=no, toolbar=no, directories=no, location=no, scrollbars=no, status=no";

        function abrirVentana() {
         ventanaHija = window.open("matricula(ventana).html");
         }
         function cerrarVentana(){
           ventanaHija.close(); 
         }
         

    </script>
    <br><br>
    <button onclick="abrirVentana();
    setTimeout(cerrarVentana, 10000);">
    Ver probabilidades</button>
            

</body>

</html>